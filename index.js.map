{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = '47642330-01773e177615e156ed5ec02c5';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst searchPixabayImages = async (query) => {\n  try {\n    const response = await axios.get('/', {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n      }\n    });\n\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport { searchPixabayImages };\n","const createImage = image => {\n  return `\n        <li class=\"image-card\">\n            <a href=\"${image.largeImageURL}\" target=\"_blank\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n                <div class=\"image-info\">\n                    <p><b>Likes</b> ${image.likes}</p>\n                    <p><b>Views</b> ${image.views}</p>\n                    <p><b>Comments</b> ${image.comments}</p>\n                    <p><b>Downloads</b> ${image.downloads}</p>\n                </div>\n            </a>\n        </li>\n    `;\n};\n\nconst createGallery = images => {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n  const html = images.map(createImage).join('');\n  gallery.insertAdjacentHTML('beforeend', html);\n};\n\nexport { createGallery };\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { searchPixabayImages } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\n\nconst searchBarForm = document.querySelector('#search-bar-form');\nconst loader = document.querySelector('.loader');\n\nconst searchBarFormSubmitHandler = async (event) => {\n    event.preventDefault();\n\n    try {\n        const form = event.target;\n        const seachValue = form.elements.search.value;\n      \n        if (seachValue.trim().length === 0) {\n          return;\n        }\n      \n        loader.classList.add('is-active');\n        const data = await searchPixabayImages(seachValue);\n        \n        if (!data.hits || !data.hits.length) {\n            iziToast.error({\n              message:\n                'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topRight',\n            });\n        }\n    \n        createGallery(data.hits);\n        var lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n        lightbox.refresh();\n        loader.classList.remove('is-active');\n    } catch(error) {\n        console.error(error);\n        iziToast.error({\n            message: error.message,\n            position: 'topRight',\n        });\n        loader.classList.remove('is-active');\n    }\n}\n\nsearchBarForm.addEventListener('submit', searchBarFormSubmitHandler);\n"],"names":["API_KEY","axios","searchPixabayImages","query","error","createImage","image","createGallery","images","gallery","html","searchBarForm","loader","searchBarFormSubmitHandler","event","seachValue","data","iziToast","lightbox","SimpleLightbox"],"mappings":"owBAEA,MAAMA,EAAU,qCAChBC,EAAM,SAAS,QAAU,2BAEzB,MAAMC,EAAsB,MAAOC,GAAU,CAC3C,GAAI,CAWF,OAViB,MAAMF,EAAM,IAAI,IAAK,CACpC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACP,CAAK,GAEe,IACjB,OAAQC,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,ECrBMC,EAAcC,GACX;AAAA;AAAA,uBAEcA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,sCAE5BA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,yCACRA,EAAM,QAAQ;AAAA,0CACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,MAOnDC,EAAgBC,GAAU,CAC9B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GACpB,MAAMC,EAAOF,EAAO,IAAIH,CAAW,EAAE,KAAK,EAAE,EAC5CI,EAAQ,mBAAmB,YAAaC,CAAI,CAC9C,EChBMC,EAAgB,SAAS,cAAc,kBAAkB,EACzDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAA6B,MAAOC,GAAU,CAChDA,EAAM,eAAc,EAEpB,GAAI,CAEA,MAAMC,EADOD,EAAM,OACK,SAAS,OAAO,MAExC,GAAIC,EAAW,OAAO,SAAW,EAC/B,OAGFH,EAAO,UAAU,IAAI,WAAW,EAChC,MAAMI,EAAO,MAAMd,EAAoBa,CAAU,GAE7C,CAACC,EAAK,MAAQ,CAACA,EAAK,KAAK,SACzBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACxB,CAAa,EAGLV,EAAcS,EAAK,IAAI,EACvB,IAAIE,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAC1B,CAAS,EACDD,EAAS,QAAO,EAChBN,EAAO,UAAU,OAAO,WAAW,CACtC,OAAOR,EAAO,CACX,QAAQ,MAAMA,CAAK,EACnBa,EAAS,MAAM,CACX,QAASb,EAAM,QACf,SAAU,UACtB,CAAS,EACDQ,EAAO,UAAU,OAAO,WAAW,CACtC,CACL,EAEAD,EAAc,iBAAiB,SAAUE,CAA0B"}